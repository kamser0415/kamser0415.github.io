---
layout: single
title: TIL) 불변객체와 GC는 무슨 관계일까
categories: TIL
tag: [Today I Learned]
toc: true
toc_sticky: true
author_profile: false
sidebar:
    nav: "docs"
search: true
sidebar:
    nav: "counts"
typora-root-url: ../
---

## 📌 2025-02-26 TIL

## 1. 오늘의 학습 주제
- 불변객체와 GC는 무슨 사이일까

## 2. 학습 내용 요약



자바에서 사용자 정의 불변 객체를 사용한다는 것은 GC의 작업을 줄여줄 수 있습니다.

불변 객체는 내부 상태가 불변이며, 상속도 불가능한 객체를 말합니다.

한번 할당된 메모리 주소는 재할당이 불가능 하므로 내부 필드도 처음 오브젝트가 생성된 이후로 참조 값이 변경되지 않습니다.

gc는 새로 생성된 객체를 young 영역에 저장하다가 메모리 공간이 다 찬다면 young gc 부분을 초기화하고 

old 영역으로 promotion 승격합니다.

이때 메모리공간을 효율적이며 관리하기 편하도록 메모리를 청소하고 압축하는 과정이 생기면서 기존 가변 객체의 상태는 청소 이후 변경된 주소로 재할당이 됩니다.

불변 객체는 최초 생성이후 참조값이 변경되면 안되기에 gc가 동작할때 압축하는 과정에서 참조가 변경하는 일이 생략되며 최적화가 되고

young에서 old로 가는 부분에서도 참조값이 변경되지 않으므로 참조를 변경하는 과정이 모두 생략됩니다.

따라서 사용자 정의 불변 객체를 사용한다는 의미는 gc과정에서 참조를 변경하는 과정이 생략되므로 gc의 작업량을 줄여줄 수있습니다.

그러나 메모리 주소가 변경되지 않기 때문에 메모리 파편화가 발생할 수 있습니다.

남들이 청소해서 모아놓는데 덩그러니 놓여잇으면 안되기에

불변객체는 빠르게 승격시켜서 별도로 메모리 관리하도록합니다.



제가 생각하기에 불변 객체와 GC의 관계는 청소부와 
