---
layout: single
title: TIL) OCP λ¥Ό λ‹¤μ‹ μƒκ°ν•΄λ³΄λ‹¤.
categories: TIL
tag: [Today I Learned]
toc: true
toc_sticky: true
author_profile: false
sidebar:
    nav: "docs"
search: true
sidebar:
    nav: "counts"
typora-root-url: ../
---

## π“ 2025-03-08 TIL

## 1. μ¤λμ ν•™μµ μ£Όμ 

+ λ³€κ²½μ—λ” λ‹«ν€ μκ³ , ν™•μ¥μ—λ” μ—΄λ ¤μλ‹¤λ” μλ―Έλ¥Ό λ‹¤μ‹ μƒκ°ν•΄ λ³΄μ•μµλ‹λ‹¤.

## 2. ν•™μµ λ‚΄μ©

ν΄λμ¤λ” ν™•μ¥μ—λ” μ—΄λ ¤μκ³ , μμ •μ—λ” λ‹«ν€μμ–΄μ•Ό ν•λ‹¤.

ν΄λμ¤λ¥Ό μ„¤κ³„ν•  λ• ν™•μ¥μ—λ” μ—΄λ ¤μλ„λ΅ ν•κ³  μμ •μ—λ” λ‹«ν€μλ„λ΅ ν•΄μ•Όν•λ‹¤λ” μ„¤κ³„ μ›μΉ™μ…λ‹λ‹¤.



ν™•μ¥μ—λ” μ—΄λ ¤μλ„λ΅ ν•κΈ° μ„ν•΄μ„λ” κµ¬ν„μ²΄μ— μμ΅΄ν•μ§€ μ•κ³  μ¶”μƒν™” μ—­ν• μ— μμ΅΄ν•΄μ•Όν•©λ‹λ‹¤.

μμ •μ—λ” λ‹«ν€μκΈ° μ„ν•΄μ„λ” μ •ν•΄μ§„ ν‹€μ„ λ§λ“¤μ–΄μ•Όν•κ³  κ·Έκ²ƒμ„ κ³ μ •ν•΄μ•Όν•©λ‹λ‹¤.

**κ³ μ •λ ν‹€**

1. μ΅°κ±΄μ΄ μΌμΉν•λ”μ§€ ν™•μΈν•λ‹¤ 
2. μ΅°κ±΄μ΄ λ§μ΅±ν•λ©΄ μ‹¤ν–‰ν•λ‹¤.

**λ³€κ²½λλ” ν‹€**

1. μ΅°κ±΄μ κµ¬μ²΄μ μΈ λ‚΄μ©
2. μ‹¤ν–‰λλ” λ‚΄λ¶€ λ΅μ§



κ°μ²΄μ§€ν–¥ ν”„λ΅κ·Έλλ°μ„ ν•  λ• μ¤‘μ”ν• κ²ƒμ€ μ „μ²΄ ν”„λ΅μ„Έμ¤λ¥Ό λ³΄λ©΄μ„ λ³€κ²½λλ” κ²ƒκ³Ό λ³€κ²½λμ§€ μ•μ€ κ²ƒμ„ κµ¬λ¶„ν•λ” μ‹μ•Όλ¥Ό κ°–λ”κ±°λΌκ³  μƒκ°μ΄ λ“¤μ—μµλ‹λ‹¤.

```java
if(State.EMPTY == input) {
  doSometing();
  return;
}
if(State.USING == input) {
  doSometing();
  return;
}
if(State.SUSPEND == input) {
  doSometing();
  return;
}
throw new IlligalArgumentException("μ§€μ›ν•μ§€ μ•μ€ νƒ€μ…μ…λ‹λ‹¤.");
```

μλ¥Ό λ“¤λ©΄, μ„ μ½”λ“λ” μ΅°κ±΄μ„ ν™•μΈν•λ” κ²ƒμ€ λ™μΌν•©λ‹λ‹¤.

κ·Έλ¦¬κ³  κ·Έ μ΅°κ±΄μ— λ”°λΌ μ‹¤ν–‰λλ” λ©”μ„λ“κ°€ μμµλ‹λ‹¤.



λ³€κ²½λλ” κ²ƒ : μ…λ ¥λ μƒνƒ(κµ¬μ²΄), μ‹¤ν–‰λλ” λ©”μ„λ“μ λ‚΄λ¶€ λ΅μ§(κµ¬μ²΄)

λ³€κ²½λμ§€ μ•λ” κ²ƒ: μ΅°κ±΄μ„ ν™•μΈν•λ” ν–‰μ„, λ©”μ„λ“λ¥Ό μ‹¤ν–‰ν•λ” ν–‰μ„



κΈ°μ΅΄ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•κ³  μ¶”κ°€λλ” μ΅°κ±΄κ³Ό λ‚΄λ¶€ λ΅μ§μ„ μ μ©ν•κΈ° μ„ν•΄μ„ μ—¬λ¬κ°€μ§€ λ””μμΈ ν¨ν„΄μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

ν΄λμ¤ μƒμ†μΌλ΅ μ—¬λ¬κ°€μ§€ λ°©μ‹μ„ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ„ μ‚¬μ©ν•λ” ν…ν”λ¦Ώ ν¨ν„΄

μ‚¬μ©ν•  λ°©μ‹μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νƒν•λ” μ½λ°± ν¨ν„΄

λ‹¤ν•μ„±μ„ ν™μ©ν•μ—¬ Enum κ³Ό μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•λ” λ°©λ²•λ“±μ΄ μλ‹¤λ” κ²ƒμ„ μ•κ²λμ—μµλ‹λ‹¤.

```java
// λ©”λ‰΄ κ²€μƒ‰ κΈ°λ¥μ„ μ„ν• μΈν„°νμ΄μ¤ μ •μ
public interface MenuSelector {
    boolean matches(String input);
}

// Enum μ •μ: κ° λ©”λ‰΄λ” λ³„μΉ­(alias) λ¦¬μ¤νΈλ¥Ό κ°€μ§€κ³  μμ
public enum Menu implements MenuSelector {
    λΌν•΄μ¥κµ­(List.of("λΌ", "λΌν•΄μ¥κµ­")),
    μ°κ±°μ§€ν•΄μ¥κµ­(List.of("μ°κ±°μ§€", "μ°κ±°μ§€ν•΄μ¥κµ­")),
    ν™©νƒν•΄μ¥κµ­(List.of("ν™©νƒ", "ν™©νƒν•΄μ¥κµ­", "λ§‘μ€κ±°μ”"));

    private final List<String> aliases;

    Menu(List<String> aliases) {
        this.aliases = aliases;
    }

    // μΈν„°νμ΄μ¤ κµ¬ν„: μ…λ ¥ κ°’μ΄ ν•΄λ‹Ή λ©”λ‰΄μ λ³„μΉ­μ— ν¬ν•¨λλ©΄ trueλ¥Ό λ°ν™
    @Override
    public boolean matches(String input) {
        return aliases.contains(input);
    }

    // static λ©”μ„λ“: μ…λ ¥ κ°’κ³Ό μΌμΉν•λ” λ©”λ‰΄λ¥Ό μ°ΎκΈ° μ„ν•΄ enumμ values() μ‚¬μ©
    public static Menu findByAlias(String input) {
        return Arrays.stream(Menu.values())
                     .filter(menu -> menu.matches(input))
                     .findFirst()
                     .orElseThrow(() -> new IllegalArgumentException("λ©”λ‰΄λ¥Ό λ‹¤μ‹ λ¬Όμ–΄λ΄…λ‹λ‹¤.: " + input));
    }
}

// ν…μ¤νΈλ¥Ό μ„ν• λ©”μΈ ν΄λμ¤
class μμ‹μ  {
    public static void main(String[] args) {
        String input = "λ§‘μ€κ±°μ”";
        Menu selectedMenu = Menu.findByAlias(input);
        System.out.println("λ„¤~: " + selectedMenu);
    }
}
```



μ΄μ²λΌ OCPλ” κ³ μ • ν‹€κ³Ό λ³€κ²½ ν‹€μ„ κΈ°μ¤€μ„ μ΅μ•„μ„ μ–΄λ–¤ λ°©μ‹μΌλ΅ ν™μ©ν•  κ²ƒμΈμ§€ κ²°μ •ν•λ” κ²ƒμ΄ ν•µμ‹¬μ΄λΌκ³  μƒκ°ν•©λ‹λ‹¤.





