---
layout: single
title: TIL) 병목을 겪어보자
categories: TIL
tag: [Today I Learned]
toc: true
toc_sticky: true
author_profile: false
sidebar:
    nav: "docs"
search: true
sidebar:
    nav: "counts"
typora-root-url: ../
---

실제로 서버 부하를 걸어보면서 테스트를 진행해보려고 합니다.

# 서버 지연 테스트

![image-20250519235814346](/images/2025-05-20-til-2025-05-20/image-20250519235814346.png){: .img75 .align-center}

1차 병목 구간 : 스레드풀 10

2차 병목 구간 : 스레드당 1초 지연



## 결과

```text
Server Software:        
Server Hostname:        localhost
Server Port:            8080

Document Path:          /sync/location
Document Length:        20 bytes

Concurrency Level:      20
Time taken for tests:   11.136 seconds
Complete requests:      100
Failed requests:        0
Total transferred:      15300 bytes
HTML transferred:       2000 bytes
Requests per second:    8.98 [#/sec] (mean)
Time per request:       2227.135 [ms] (mean)
Time per request:       111.357 [ms] (mean, across all concurrent requests)
Transfer rate:          1.34 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    1   0.4      1       2
Processing:  1009 1903 313.1   2011    2020
Waiting:     1009 1902 313.2   2011    2019
Total:       1010 1903 313.1   2012    2020

Percentage of the requests served within a certain time (ms)
  50%   2012
  66%   2013
  75%   2015
  80%   2015
  90%   2018
  95%   2019
  98%   2019
  99%   2020
 100%   2020 (longest request)
```

| **항목**          | **값**   | **해석**                             |
| ----------------- | -------- | ------------------------------------ |
| Complete requests | 100      | 총 100개의 요청 성공                 |
| Concurrency Level | 20       | 한 번에 20개씩 요청                  |
| Time taken        | 11.136초 | 100개 요청 처리하는 데 걸린 총 시간  |
| Requests/sec      | 8.98     | 초당 평균 처리된 요청 수             |
| Time per request  | 2227ms   | 한 요청당 평균 걸린 시간 (전체 기준) |
| Processing max    | 2020ms   | **가장 오래 걸린 요청은 2초** 걸림   |
| 50% 요청 시간     | 2012ms   | **절반이 2초 이상 걸림**             |

d
